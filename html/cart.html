<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="css/cart.css">
    <link rel="stylesheet" href="css/header.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/intl-tel-input@18.2.1/build/css/intlTelInput.css">
    <title>Cart</title>
</head>
<body>
    <header id="desktopHeader">
        <img id="logo" src="images/logo.png" alt="">
        <div style="display: flex;flex-direction: row;">
            <div style="position: relative;width: 50%;height: 5vh;margin-right: 16px;">
                <input id="filter" type="text" placeholder="Search">
                <i class="bi bi-search"></i>
                <div class="dropDowns" id="results">
                    <ul id="list"></ul>
                </div>
                <div class="dropDowns" id="accountDropdown">
                    <a href="/login"><p>Login</p></a>
                    <a href="/track"><p>Track Orders</p></a>
                </div>
            </div>

            <div id="headerIconsDiv">
                <div class="headerIcons">
                    <i  class="bi bi-person-circle"></i>
                </div>
                <div class="headerIcons">
                    <a href="/cart"><i class="bi bi-cart4"></i></a>
                </div>
            </div>
        </div>
    </header>
    <h1 class="title" id="cartTitle">Cart</h1>

    <section id="content">
        <div id="billingDiv">
            <form id="billingForm" action="/checkout" method="post">
                <input class="billingInput" placeholder="First Name" type="text" id="fname" name="fname" required>
                <input class="billingInput" placeholder="Last Name" type="text" id="lname" name="lname" required>
                <input class="billingInput" placeholder="Phone Number" type="text" name="phoneNo" id="phoneNo" required>
                <input class="billingInput" placeholder="Email Address" type="text" name="email" id="email" required>
                <input type="hidden" name="totalPrice" id="total">
                <div id="totalDiv">
                    <h3 class="totalElem">Total</h3>
                    <h3 class="totalElem" id="totalPrice">0</h3>
                </div>
                <button type="submit" class="intaSendPayButton" id="checkoutBtn"  data-amount="10" data-currency="KES" >Checkout</button>
                <a id="error"  href="/"><button type="button" id="continueBtn">Continue shopping</button></a>
            </form>
        </div>
    </section>

    <script src="js/cart.js"></script>
    <script src="js/header.js"></script>
    <script src="https://unpkg.com/intasend-inlinejs-sdk@3.0.4/build/intasend-inline.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/intl-tel-input@18.2.1/build/js/intlTelInput.min.js"></script>
    <script>
        const phoneInput = document.querySelector("#phoneNo");
        window.intlTelInput(phoneInput, {
            utilsScript: "https://cdn.jsdelivr.net/npm/intl-tel-input@18.2.1/build/js/utils.js",
            autoInsertDialCode: true,
            nationalMode:false,
            initialCountry: "auto",
            geoIpLookup: function(callback) {
                fetch("https://ipapi.co/json")
                .then(function(res) { return res.json(); })
                .then(function(data) { callback(data.country_code); })
                .catch(function() { callback("us"); });
            }
        });
    </script>
</body>
</html>